{"version":3,"file":"cart-notification.js","mappings":"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","sources":["webpack://cart-notifications/./src/cart-notification.scss","webpack://cart-notifications/webpack/bootstrap","webpack://cart-notifications/webpack/runtime/make namespace object","webpack://cart-notifications/./src/cart-notification.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './cart-notification.scss';\n\njQuery(document).ready(function($) {\n\n    function shouldDisplayNotification() {\n        var displaySettings = cartNotificationsData.displaySettings || [];\n\n        if (displaySettings.includes('all_pages')) {\n            return true;\n        }\n        if (displaySettings.includes('shop_archive') && $('body').hasClass('woocommerce-shop')) {\n            return true;\n        }\n        if (displaySettings.includes('shop_archive_categories') && $('body').hasClass('tax-product_cat')) {\n            return true;\n        }        \n        if (displaySettings.includes('shop_archive_tags') && $('body').hasClass('tax-product_tag')) {\n            return true;\n        } \n\n        return false;\n    }\n\n    if (shouldDisplayNotification()) {\n        // Standard WooCommerce Add to Cart\n        $(document.body).on('added_to_cart', function(event, fragments, cart_hash,$button) {\n            var product_id = $button.data('product_id');\n            displayNotification(product_id);\n        });\n\n        // WooCommerce Gutenberg Blocks Add to Cart\n        $(document.body).on('wc-blocks_added_to_cart', function() {\n            displayNotification(); // No product ID is passed here\n        });\n    }\n    \n    function displayNotification(product_id = 0) {\n        $.ajax({\n            url: cartNotificationsData.ajaxurl, // URL from localized script\n            type: 'POST',\n            dataType: 'json',\n            data: {\n                action: 'get_product_details', // The same as your add_action hook\n                product_id: product_id\n            },\n            success: function(response) {\n                if(response.success) {\n                     // Append the HTML to the start of the body\n                    document.body.insertAdjacentHTML('afterbegin', response.data.html);\n                    \n                    // Removing the card after time interval \n                    var notificationElement = document.querySelector('.cart-notifications-pops');\n                    var time = notificationElement.dataset.time;\n                    setTimeout(function() {\n                    if (notificationElement) {\n                        notificationElement.classList.add('slide-out');\n    \n                        // Remove the element after the animation\n                        notificationElement.addEventListener('animationend', function() {\n                            notificationElement.remove();\n                        });\n                    }\n                }, time); // Time until the slide-out starts\n                }\n            },\n            error: function() {\n                console.error('AJAX request failed.');\n            }\n        });\n    }\n});\n"],"names":["jQuery","document","ready","$","shouldDisplayNotification","displaySettings","cartNotificationsData","includes","hasClass","body","on","event","fragments","cart_hash","$button","product_id","data","displayNotification","ajax","url","ajaxurl","type","dataType","action","success","response","insertAdjacentHTML","html","notificationElement","querySelector","time","dataset","setTimeout","classList","add","addEventListener","remove","error","console"],"sourceRoot":""}